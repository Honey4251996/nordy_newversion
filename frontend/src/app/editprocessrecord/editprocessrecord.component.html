<div class="content-header">
  <h1>Process</h1>
  <ol class="breadcrumb">
    <li>
      <a href="#"><i class="fa fa-dashboard"></i> Home</a>
    </li>
    <li><a href="#">Industrial Eng</a></li>
    <li><a href="#">Process</a></li>
    <li class="active">Process Record</li>
  </ol>
</div>
<div class="content">
  <!-- Small boxes (Stat box) -->
  <div class="row">
    <div class="col-lg-12 col-xs-12">
      <div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">Edit Process Record</h3>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
          <div class="row">
            <div class="col-md-12 text-right">
              <a class="btn btn-sm btn-info" routerLink="/listProcess">Process
              </a>
              &nbsp;&nbsp;
            </div>
          </div>
          <form [formGroup]="survey" novalidate (ngSubmit)="onSubmit(survey)">
            <!---Survey Section -->
            <div class="card-box row">
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Name<span class="text-danger">*</span></label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="Name"
                      type="text"
                      required
                      placeholder="Name"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">MachineCode</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="MachineCode"
                      type="text"
                      required
                      placeholder="MachineCode"
                    />
                  </div>
                </div>
              </div>

              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">BusinessUnity</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="BusinessUnity"
                      type="number"
                      required
                      placeholder="BusinessUnity"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Quality</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="Quality"
                      type="number"
                      required
                      placeholder="Quality"
                    />
                  </div>
                </div>
              </div>

              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Eficiency</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="Eficiency"
                      type="number"
                      required
                      placeholder="Eficiency"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Availability</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="Availability"
                      type="number"
                      required
                      placeholder="Availability"
                    />
                  </div>
                </div>
              </div>

              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">SetupTime</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="SetupTime"
                      type="text"
                      required
                      placeholder="SetupTime"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">SetupTimeUnity</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="SetupTimeUnity"
                      type="text"
                      required
                      placeholder="SetupTimeUnity"
                    />
                  </div>
                </div>
              </div>

              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Cost</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="Cost"
                      type="text"
                      required
                      placeholder="Cost"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">CostTimeUnity</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="CostTimeUnity"
                      type="text"
                      required
                      placeholder="CostTimeUnity"
                    />
                  </div>
                </div>
              </div>

              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">SetupLoss</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="SetupLoss"
                      type="text"
                      required
                      placeholder="SetupLoss"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">SetupLossUnity</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="SetupLossUnity"
                      type="text"
                      required
                      placeholder="SetupLossUnity"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Speed</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="Speed"
                      type="text"
                      required
                      placeholder="Speed"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">SpeedUnity</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="SpeedUnity"
                      type="text"
                      required
                      placeholder="SpeedUnity"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">SpeedTimeUnity</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="SpeedTimeUnity"
                      type="text"
                      required
                      placeholder="SpeedTimeUnity"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">MinBatch</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="MinBatch"
                      type="text"
                      required
                      placeholder="MinBatch"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">MinBatchUnity</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="MinBatchUnity"
                      type="text"
                      required
                      placeholder="MinBatchUnity"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">MaxBatch</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="MaxBatch"
                      type="text"
                      required
                      placeholder="MaxBatch"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">MaxBatchUnity</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="MaxBatchUnity"
                      type="text"
                      required
                      placeholder="MaxBatchUnity"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">GroupSpeed</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="GroupSpeed"
                      type="text"
                      required
                      placeholder="GroupSpeed"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">GroupSpeedTimeUnity</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="GroupSpeedTimeUnity"
                      type="text"
                      required
                      placeholder="GroupSpeedTimeUnity"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">GroupName</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="GroupName"
                      type="text"
                      required
                      placeholder="GroupName"
                    />
                  </div>
                </div>
              </div>

              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">OnOff</label>
                  <div class="col-sm-12">
                    <input
                      class="form-control"
                      formControlName="OnOff"
                      type="text"
                      required
                      placeholder="OnOff"
                    />
                  </div>
                </div>
              </div>

              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Process<span class="text-danger">*</span></label>
                  <div class="col-sm-12">
                    <select id="ProcessId" formControlName="ProcessId" class="form-control"
                      (change)="genreateForm($event.target.value)">
                      <option value=""></option>
                      <option *ngFor="let m of Processrecord" value="{{ m.Id }}">{{ m.MachineName }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Shift A, B, C, D, E -->
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Shift A</label>
                  <div class="col-sm-12">
                    <input class="form-control" formControlName="ShiftA" type="number" placeholder="Shift A" />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Shift B</label>
                  <div class="col-sm-12">
                    <input class="form-control" formControlName="ShiftB" type="number" placeholder="Shift B" />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Shift C</label>
                  <div class="col-sm-12">
                    <input class="form-control" formControlName="ShiftC" type="number" placeholder="Shift C" />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Shift D</label>
                  <div class="col-sm-12">
                    <input class="form-control" formControlName="ShiftD" type="number" placeholder="Shift D" />
                  </div>
                </div>
              </div>
              <div class="mb-10 col-md-6">
                <div class="form-group">
                  <label class="col-sm-12 col-form-label">Shift E</label>
                  <div class="col-sm-12">
                    <input class="form-control" formControlName="ShiftE" type="number" placeholder="Shift E" />
                  </div>
                </div>
              </div>
              <!-- End Shift A, B, C, D, E -->
              <!-- {{ questions.length }} -->
              <div *ngIf="questions.length">
                <div
                  formArrayName="EXTRAFIELDS"
                  class="col-md-6"
                  *ngFor="let m of questions; let i = index"
                >
                  <div class="form-group" [formGroupName]="i">
                    <label class="col-sm-12 col-form-label">{{
                      m.questionTitle
                    }}</label>
                    <div
                      class="col-sm-12"
                      *ngIf="m.questionType == 'Free Text' ? true : false"
                    >
                      <input
                        class="form-control"
                        id="{{ m.questionTitle }}"
                        formControlName="{{ m.questionTitle }}"
                        type="text"
                        required
                        placeholder="{{ m.questionTitle }}"
                      />
                    </div>
                    <div
                      class="col-sm-12"
                      *ngIf="m.questionType == 'Select Box' ? true : false"
                    >
                      <select
                        class="form-control"
                        id="{{ m.questionTitle }}"
                        formControlName="{{ m.questionTitle }}"
                      >
                        <option value="">--Select--</option>
                        <option
                          *ngFor="let n of m.options"
                          [selected]="
                            n.optionTitle ===
                            survey.value.EXTRAFIELDS[i][m.questionTitle]
                          "
                        >
                          {{ n.optionTitle }}</option
                        >
                      </select>
                    </div>
                    <div
                      class="col-sm-12"
                      *ngIf="m.questionType == 'Check Boxes' ? true : false"
                    >
                      <div
                        *ngFor="let n of m.options"
                        class="form-check-inline"
                      >
                        <label class="form-check-label">
                          <input
                            [checked]="
                              getchecked(
                                n.optionTitle,
                                survey.value.EXTRAFIELDS[i][m.questionTitle]
                              )
                            "
                            type="checkbox"
                            (change)="onCheckChange($event, m.questionTitle, i)"
                            class="form-check-input"
                            value="{{ n.optionTitle }}"
                          />{{ n.optionTitle }}
                        </label>
                      </div>
                    </div>
                    <div
                      class="col-sm-12"
                      *ngIf="m.questionType == 'radio' ? true : false"
                    >
                      <div
                        *ngFor="let n of m.options"
                        class="form-check-inline"
                      >
                        <label class="form-check-label">
                          <input
                            [checked]="
                              getchecked(
                                n.optionTitle,
                                survey.value.EXTRAFIELDS[i][m.questionTitle]
                              )
                            "
                            type="checkbox"
                            (change)="onCheckChange($event, m.questionTitle, i)"
                            name="radio+{{ i }}"
                            type="radio"
                            (change)="onCheckChange($event, m.questionTitle, i)"
                            class="form-check-input"
                            value="{{ n.optionTitle }}"
                          />{{ n.optionTitle }}
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- End Section -->
            <div class="col-md-12">
              <div
                *ngIf="this.serverresponse != ''"
                class="alert"
                [ngClass]="{
                  'alert-danger': serverError == 1,
                  'alert-success': serverError == 0
                }"
              >
                {{ this.serverresponse }}
              </div>
            </div>
            <div class="col-md-12 text-right">
              <!-- <button
                [disabled]="
                  (survey.value.Name != '' ? false : true) ||
                  (survey.value.ProcessId != '' ? false : true)
                "
                class="btn btn-success"
              >
                Submit
              </button> -->
              <button class="btn btn-success">
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>